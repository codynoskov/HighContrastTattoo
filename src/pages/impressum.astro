---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ArtistsHeroSection from '../components/sections/ArtistsHeroSection.astro';
import { getCollection } from 'astro:content';
import { resolveImage } from '../utils/contentHelpers';

// Get settings content
const settingsEntries = await getCollection('settings');
const settings = settingsEntries[0]?.data || {};
const footerMapImage = settings.footerMapImage ? resolveImage(settings.footerMapImage) : undefined;

const siteUrl = settings.seoSiteUrl || 'https://highcontrasttattoo.com';
const seoTitle = `Imprint | ${settings.seoSiteName || settings.studioName || 'High Contrast Tattoo'}`;
const seoDescription = 'Imprint and legal notice.';
---

<Layout
  title={seoTitle}
  description={seoDescription}
  canonicalUrl={`${siteUrl}/impressum`}
  breadcrumbItems={[
    { name: 'Home', url: siteUrl + '/' },
    { name: 'Imprint', url: siteUrl + '/impressum' },
  ]}
>
  <Header studioName={settings.studioName} buttonBookSession={settings.buttonBookSession} />
  <main>
    <ArtistsHeroSection 
      title="Imprint"
      description="Information according to ยง 5 TMG"
    />
    
    <section class="section section--basic">
      <div class="container">
        <div class="legal-content">
          <h3>Responsible Service Provider</h3>
          <p>
            <strong>Eduard Zlotin</strong><br />
            Schreinerstrasse 6<br />
            10247 Berlin<br />
            Germany
          </p>

          <h3>Contact</h3>
          <p>
            <strong>Email:</strong> <a href="mailto:highcontrasttattoo@gmail.com">highcontrasttattoo@gmail.com</a>
          </p>

          <h3>VAT</h3>
          <p>
            <strong>VAT ID:</strong> DE353806904
          </p>

          <h3>Responsible for Content</h3>
          <p>
            Responsible for content according to <strong>ยง 18 Abs. 2 MStV</strong>: <strong>Eduard Zlotin</strong>
          </p>

          <h3>Consumer Dispute Resolution (VSBG)</h3>
          <p>
            We are <strong>not obliged</strong> and <strong>not willing</strong> to participate in dispute resolution procedures before a
            consumer arbitration board.
          </p>
        </div>
      </div>
    </section>
  </main>
  <Footer
    studioName={settings.studioName}
    headline={settings.footerHeadline}
    description={settings.footerDescription}
    mapImage={footerMapImage}
    emailLabel={settings.footerEmailLabel}
    emailDescription={settings.footerEmailDescription}
    phoneLabel={settings.footerPhoneLabel}
    phoneDescription={settings.footerPhoneDescription}
    studioLabel={settings.footerStudioLabel}
    email={settings.footerEmail}
    phone={settings.footerPhone}
    whatsAppUrl={settings.footerWhatsAppUrl}
    address={settings.footerAddress}
    privacyNote={settings.footerPrivacyNote}
    copyright={settings.footerCopyright}
    buttonGoogleMaps={settings.buttonGoogleMaps}
  />
</Layout>

<style>
  main {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: visible;
    overflow-y: visible;
    padding-top: 72px; /* Account for fixed header height */
  }

  .section {
    justify-content: flex-start;
    align-items: center;
    width: 100%;
  }

  .section .container {
    align-items: flex-start;
    width: 100%;
    max-width: var(--spacing-core-1900-md);
    margin: 0 auto;
    padding: 0 var(--spacing-core-800-md) var(--spacing-core-1100-md);
  }

  .legal-content {
    width: 100%;
    max-width: 800px;
  }

  .legal-content h3 {
    margin-top: var(--spacing-core-900-md);
  }
</style>

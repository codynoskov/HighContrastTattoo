---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Divider from '../components/Divider.astro';
import ArtistsHeroSection from '../components/sections/ArtistsHeroSection.astro';
import StyleDetailSection from '../components/sections/StyleDetailSection.astro';
import { getCollection } from 'astro:content';

const styleEntries = await getCollection('styles');
const styles = styleEntries.map(entry => ({
  ...entry.data,
  slug: entry.slug
}));
---

<Layout>
  <Header />
  <main>
    <ArtistsHeroSection 
      title="Styles"
      description="An overview of our signature styles, highlighting the approaches, techniques, and visual directions that define our tattoo work."
    />
    
    <Divider color="light" />
    
    {styles.map((style, index) => (
      <>
        <StyleDetailSection
          name={style.name}
          description={style.description}
          artists={style.artists}
          galleryImages={style.galleryImages}
          bookingHref={style.bookingHref}
          exploreHref={`/styles/${style.slug}`}
        />
        {index < styles.length - 1 && <Divider color="light" />}
      </>
    ))}
    
    <Divider color="light" />
  </main>
  <Footer />
</Layout>

<style>
  main {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: visible;
    overflow-y: visible;
    padding-top: 72px; /* Account for fixed header height */
  }
</style>

---
import Button from '../Button.astro';
import OptimizedImage from '../OptimizedImage.astro';
import imagePlaceholder from '../../assets/images/image-placeholder.png';
import type { ImageMetadata } from 'astro';

interface Props {
  title?: string;
  description?: string;
  schedule?: string;
  googleMapsUrl?: string;
  backgroundImage?: string | ImageMetadata;
  buttonText?: string;
  className?: string;
}

const {
  title = "Walk-In Tattoos",
  description = "Walk-ins are available",
  schedule = "Monday–Saturday, 11:30–15:00",
  googleMapsUrl = "https://maps.google.com/?q=High+Contrast+Tattoo,+Schreinerstraße+6,+10247+Berlin,+Germany",
  backgroundImage = imagePlaceholder,
  buttonText = "Open in Google Maps",
  className = ""
} = Astro.props;
---

<section class={`section banner-section ${className}`}>
  <div class="banner-background" aria-hidden="true">
    <div class="banner-bg-fallback"></div>
    <OptimizedImage 
      src={backgroundImage} 
      alt="" 
      className="banner-bg-image"
      widths={[600, 1200, 1920]}
      sizes="100vw"
      loading="lazy"
      quality={80}
      fallbackSrc={imagePlaceholder.src}
    />
  </div>
  <div class="banner-overlay"></div>
  <div class="container">
    <div class="banner-inner">
      <div class="banner-text">
        <h2 class="banner-title">{title}</h2>
        <p class="banner-description">
          {description}<br aria-hidden="true" />
          <strong class="walk-in-schedule">{schedule}</strong>
        </p>
      </div>
      
      <div class="banner-actions">
        <Button 
          type="Primary" 
          color="Primary"
          href={googleMapsUrl}
          leadingIcon={false}
          trailingIcon={true}
          trailingIconName="open"
          target="_blank"
          rel="noopener noreferrer"
        >
          {buttonText}
        </Button>
      </div>
    </div>
  </div>
</section>

<style>
  .banner-section :global(.container) {
    position: relative;
    z-index: 1;
    min-height: 100%;
    flex: 1;
    display: flex;
    align-items: stretch;
  }

  .walk-in-schedule {
    font-weight: var(--font-weight-bold);
    font-style: normal;
  }
</style>